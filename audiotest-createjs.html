<html>
<head>
    <title>this is a test</title>
    <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
</head>
<body>
    <style>
        button {
            width: 100%;
            height: 150px;
        }
    </style>
<script type="text/javascript">
    /*window.onload = function () {
        var bot = document.getElementById('interactable-object');
        bot.addEventListener('touchstart', function () {
            console.log("Triggering touch event for iOS related issues.");
        });
        
        creatTouchstartEventAndDispatch(bot);
    
        function creatTouchstartEventAndDispatch (el) {
            var event = document.createEvent('Events');
            event.initEvent('touchstart', true, true);
            el.dispatchEvent(event);
        }
    }*/

    const showNotification = () => {
        console.log("CREATEJS Triggered");
        createjs.Sound.on("fileload", handleLoadComplete);
        createjs.Sound.alternateExtensions = ["mp3"];
        createjs.Sound.registerSound({src:"ordernotification.mp3", id:"sound"});

        const loopCount = 1;
        function handleLoadComplete(event) {
            createjs.Sound.play("sound",{loop:loopCount});
        }
        createjs.Sound.stop();
        createjs.Sound.play("sound",{loop:loopCount});

        //alert('order has arrived');
    }

    const loadZeroVolumeNotificationSound = () => {
        console.log("Sound Loading Triggered");
        createjs.Sound.on("fileload", handleLoadComplete);
        createjs.Sound.alternateExtensions = ["mp3"];
        createjs.Sound.registerSound({src:"ordernotification.mp3", id:"sound"});

        function handleLoadComplete(event) {
            createjs.Sound.play("sound").volume = 0;
        }
        createjs.Sound.stop();
    }

    const loadNotificationSound = () => {
        console.log("Sound Loading Triggered");
        createjs.Sound.on("fileload", handleLoadComplete);
        createjs.Sound.alternateExtensions = ["mp3"];
        createjs.Sound.registerSound({src:"ordernotification.mp3", id:"sound"});

        function handleLoadComplete(event) {
            console.log("Sound has been loaded.");
        }
    }

    setInterval(function() {
        showNotification();
    }, 5000);
</script>
<span>This is a test based on CREATEJS</span>
<br><br>
<button id="interactable-object" onclick="showNotification()">This plays sound</button>
<br><br>
<button onclick="loadZeroVolumeNotificationSound()">This plays sound once at 0 volume</button>
<br><br>
<button onclick="loadNotificationSound()">This preloads sound</button>
<br><br>
<button>This does absolutely nothing</button>
</body>
</html>